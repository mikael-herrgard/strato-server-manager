# Server Manager Configuration
# Copy this file to settings.yaml and customize for your environment

# Rsync backup server configuration
rsync:
  host: rsync-backup              # Hostname or IP of rsync server
  user: zh5554                     # SSH user for rsync server
  base_path: backups               # Base path on rsync server for backups
  ssh_key: /root/.ssh/rsync.key    # Path to SSH private key for authentication

# Borg backup configuration
borg:
  remote_path: borg14              # Borg binary name on remote server
  compression: zstd,3              # Compression algorithm and level
  retention:
    daily: 7                       # Keep 7 daily backups
    weekly: 4                      # Keep 4 weekly backups
    monthly: 6                     # Keep 6 monthly backups

# Mailcow configuration
mailcow:
  install_path: /opt/mailcow-dockerized    # Installation directory
  backup_types:                            # Types of backups to create
    - all                                  # Options: all, config, mail, db
  domain: mail.villaherrgard.com           # Mailcow domain
  http_port: 80                            # HTTP port (default: 80)
  https_port: 443                          # HTTPS port (default: 443)
  http_redirect: "y"                       # HTTP to HTTPS redirect (y/n, default: y)

# Nginx Proxy Manager configuration
nginx:
  install_path: /root/nginx        # Installation directory
  domain: nginx.villaherrgard.com  # Admin interface domain

# System configuration
system:
  ipv6_enabled: false              # IPv6 state (managed by this application)
  auto_updates: false              # Enable automatic system updates
  notification_email: null         # Email for notifications (optional)

# Backup configuration
backup:
  local_staging: /var/backups/local    # Local staging area for backups
  schedule:
    nginx: "0 2 * * *"                     # Cron schedule for nginx backups (2 AM daily)
    mailcow-directory: "30 2 * * *"        # Cron schedule for mailcow directory backups (2:30 AM daily)
    mailcow: "0 3 * * *"                   # Cron schedule for mailcow data backups (3 AM daily)
    scripts: "0 4 * * 0"                   # Cron schedule for scripts backup (4 AM Sunday)
